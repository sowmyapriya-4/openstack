Installing keystone.

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
apache2 is already the newest version (2.4.41-4ubuntu3.9).
The following additional packages will be installed:
  alembic keystone-common libapache2-mod-wsgi-py3 libjs-jquery libjs-sphinxdoc
  libjs-underscore pycadf-common python-pastedeploy-tpl python3-alembic
  python3-amqp python3-aniso8601 python3-anyjson python3-bcrypt
  python3-cachetools python3-defusedxml python3-dnspython python3-eventlet
  python3-extras python3-fasteners python3-fixtures python3-flask
  python3-flask-restful python3-futurist python3-greenlet python3-itsdangerous
  python3-keystone python3-keystonemiddleware python3-kombu python3-ldap
  python3-migrate python3-mimeparse python3-oslo.cache
  python3-oslo.concurrency python3-oslo.db python3-oslo.messaging
  python3-oslo.middleware python3-oslo.policy python3-oslo.service
  python3-oslo.upgradecheck python3-osprofiler python3-passlib python3-paste
  python3-pastedeploy python3-pastescript python3-pycadf python3-pymysql
  python3-pysaml2 python3-repoze.lru python3-routes python3-scrypt
  python3-sqlalchemy python3-sqlalchemy-ext python3-sqlparse python3-statsd
  python3-tempita python3-tenacity python3-testscenarios python3-testtools
  python3-vine python3-webob python3-werkzeug xmlsec1
Suggested packages:
  python-amqp-doc python-eventlet-doc python-flask-doc python-futurist-doc
  python-greenlet-doc python-greenlet-dev python3-greenlet-dbg
  python3-ldappool python-kombu-doc python3-boto python3-django
  python3-pymongo python3-redis python-migrate-doc python-oslo.cache-doc
  python-oslo.concurrency-doc python3-confluent-kafka python3-zmq
  python-oslo.middleware-doc python-oslo.policy-doc python-oslo.service-doc
  httpd-wsgi libapache2-mod-python libapache2-mod-scgi libjs-mochikit
  python3-cherrypy3 python-pymysql-doc python3-repoze.who
  python-sqlalchemy-doc python3-fdb python3-pymssql python3-psycopg2
  python-sqlparse-doc python-tenacity-doc python-testtools-doc
  python-webob-doc ipython3 python-werkzeug-doc python3-termcolor
  python3-watchdog
The following NEW packages will be installed:
  alembic keystone keystone-common libapache2-mod-wsgi-py3 libjs-jquery
  libjs-sphinxdoc libjs-underscore pycadf-common python-pastedeploy-tpl
  python3-alembic python3-amqp python3-aniso8601 python3-anyjson
  python3-bcrypt python3-cachetools python3-defusedxml python3-dnspython
  python3-eventlet python3-extras python3-fasteners python3-fixtures
  python3-flask python3-flask-restful python3-futurist python3-greenlet
  python3-itsdangerous python3-keystone python3-keystonemiddleware
  python3-kombu python3-ldap python3-migrate python3-mimeparse
  python3-oslo.cache python3-oslo.concurrency python3-oslo.db
  python3-oslo.messaging python3-oslo.middleware python3-oslo.policy
  python3-oslo.service python3-oslo.upgradecheck python3-osprofiler
  python3-passlib python3-paste python3-pastedeploy python3-pastescript
  python3-pycadf python3-pymysql python3-pysaml2 python3-repoze.lru
  python3-routes python3-scrypt python3-sqlalchemy python3-sqlalchemy-ext
  python3-sqlparse python3-statsd python3-tempita python3-tenacity
  python3-testscenarios python3-testtools python3-vine python3-webob
  python3-werkzeug xmlsec1
0 upgraded, 63 newly installed, 0 to remove and 0 not upgraded.
Need to get 464 kB/6,198 kB of archives.
After this operation, 35.7 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-vine all 1.3.0+dfsg-1 [17.2 kB]
Get:2 http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/wallaby/main amd64 alembic all 1.4.3-1ubuntu1~cloud0 [402 kB]
Get:3 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-defusedxml all 0.6.0-2 [37.0 kB]
Get:4 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-mimeparse all 1.6.0-3build1 [7,152 B]
Fetched 464 kB in 2s (295 kB/s)
Selecting previously unselected package python3-sqlalchemy.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 129261 files and directories currently installed.)
Preparing to unpack .../00-python3-sqlalchemy_1.3.22+ds1-1~cloud0_all.deb ...
Unpacking python3-sqlalchemy (1.3.22+ds1-1~cloud0) ...
Selecting previously unselected package python3-alembic.
Preparing to unpack .../01-python3-alembic_1.4.3-1ubuntu1~cloud0_all.deb ...
Unpacking python3-alembic (1.4.3-1ubuntu1~cloud0) ...
Selecting previously unselected package libjs-jquery.
Preparing to unpack .../02-libjs-jquery_3.3.1~dfsg-3_all.deb ...
Unpacking libjs-jquery (3.3.1~dfsg-3) ...
Selecting previously unselected package libjs-underscore.
Preparing to unpack .../03-libjs-underscore_1.9.1~dfsg-1ubuntu0.20.04.1_all.deb ...
Unpacking libjs-underscore (1.9.1~dfsg-1ubuntu0.20.04.1) ...
Selecting previously unselected package libjs-sphinxdoc.
Preparing to unpack .../04-libjs-sphinxdoc_3.5.4-1~cloud0_all.deb ...
Unpacking libjs-sphinxdoc (3.5.4-1~cloud0) ...
Selecting previously unselected package alembic.
Preparing to unpack .../05-alembic_1.4.3-1ubuntu1~cloud0_all.deb ...
Unpacking alembic (1.4.3-1ubuntu1~cloud0) ...
Selecting previously unselected package libapache2-mod-wsgi-py3.
Preparing to unpack .../06-libapache2-mod-wsgi-py3_4.6.8-1ubuntu3_amd64.deb ...
Unpacking libapache2-mod-wsgi-py3 (4.6.8-1ubuntu3) ...
Selecting previously unselected package pycadf-common.
Preparing to unpack .../07-pycadf-common_2.10.0-2_all.deb ...
Unpacking pycadf-common (2.10.0-2) ...
Selecting previously unselected package python-pastedeploy-tpl.
Preparing to unpack .../08-python-pastedeploy-tpl_2.1.0-1_all.deb ...
Unpacking python-pastedeploy-tpl (2.1.0-1) ...
Selecting previously unselected package python3-vine.
Preparing to unpack .../09-python3-vine_1.3.0+dfsg-1_all.deb ...
Unpacking python3-vine (1.3.0+dfsg-1) ...
Selecting previously unselected package python3-amqp.
Preparing to unpack .../10-python3-amqp_5.0.3-3~cloud0_all.deb ...
Unpacking python3-amqp (5.0.3-3~cloud0) ...
Selecting previously unselected package python3-aniso8601.
Preparing to unpack .../11-python3-aniso8601_8.0.0-1_all.deb ...
Unpacking python3-aniso8601 (8.0.0-1) ...
Selecting previously unselected package python3-anyjson.
Preparing to unpack .../12-python3-anyjson_0.3.3-2_all.deb ...
Unpacking python3-anyjson (0.3.3-2) ...
Selecting previously unselected package python3-cachetools.
Preparing to unpack .../13-python3-cachetools_4.0.0-1_all.deb ...
Unpacking python3-cachetools (4.0.0-1) ...
Selecting previously unselected package python3-defusedxml.
Preparing to unpack .../14-python3-defusedxml_0.6.0-2_all.deb ...
Unpacking python3-defusedxml (0.6.0-2) ...
Selecting previously unselected package python3-dnspython.
Preparing to unpack .../15-python3-dnspython_1.16.0-1build1_all.deb ...
Unpacking python3-dnspython (1.16.0-1build1) ...
Selecting previously unselected package python3-greenlet.
Preparing to unpack .../16-python3-greenlet_0.4.17-1build1~cloud0_amd64.deb ...
Unpacking python3-greenlet (0.4.17-1build1~cloud0) ...
Selecting previously unselected package python3-eventlet.
Preparing to unpack .../17-python3-eventlet_0.30.0-0ubuntu1.1~cloud0_all.deb ...
Unpacking python3-eventlet (0.30.0-0ubuntu1.1~cloud0) ...
Selecting previously unselected package python3-extras.
Preparing to unpack .../18-python3-extras_1.0.0-4build1_all.deb ...
Unpacking python3-extras (1.0.0-4build1) ...
Selecting previously unselected package python3-fasteners.
Preparing to unpack .../19-python3-fasteners_0.14.1-2_all.deb ...
Unpacking python3-fasteners (0.14.1-2) ...
Selecting previously unselected package python3-mimeparse.
Preparing to unpack .../20-python3-mimeparse_1.6.0-3build1_all.deb ...
Unpacking python3-mimeparse (1.6.0-3build1) ...
Selecting previously unselected package python3-testtools.
Preparing to unpack .../21-python3-testtools_2.4.0-0ubuntu1_all.deb ...
Unpacking python3-testtools (2.4.0-0ubuntu1) ...
Selecting previously unselected package python3-fixtures.
Preparing to unpack .../22-python3-fixtures_3.0.0-3build1_all.deb ...
Unpacking python3-fixtures (3.0.0-3build1) ...
Selecting previously unselected package python3-itsdangerous.
Preparing to unpack .../23-python3-itsdangerous_1.1.0-1_all.deb ...
Unpacking python3-itsdangerous (1.1.0-1) ...
Selecting previously unselected package python3-werkzeug.
Preparing to unpack .../24-python3-werkzeug_0.16.1+dfsg1-2_all.deb ...
Unpacking python3-werkzeug (0.16.1+dfsg1-2) ...
Selecting previously unselected package python3-flask.
Preparing to unpack .../25-python3-flask_1.1.1-2_all.deb ...
Unpacking python3-flask (1.1.1-2) ...
Selecting previously unselected package python3-flask-restful.
Preparing to unpack .../26-python3-flask-restful_0.3.8-1_all.deb ...
Unpacking python3-flask-restful (0.3.8-1) ...
Selecting previously unselected package python3-futurist.
Preparing to unpack .../27-python3-futurist_2.1.0-0ubuntu1_all.deb ...
Unpacking python3-futurist (2.1.0-0ubuntu1) ...
Selecting previously unselected package python3-oslo.cache.
Preparing to unpack .../28-python3-oslo.cache_2.7.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.cache (2.7.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-pycadf.
Preparing to unpack .../29-python3-pycadf_2.10.0-2_all.deb ...
Unpacking python3-pycadf (2.10.0-2) ...
Selecting previously unselected package python3-webob.
Preparing to unpack .../30-python3-webob_1%3a1.8.6-1.1~cloud0_all.deb ...
Unpacking python3-webob (1:1.8.6-1.1~cloud0) ...
Selecting previously unselected package python3-keystonemiddleware.
Preparing to unpack .../31-python3-keystonemiddleware_9.2.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-keystonemiddleware (9.2.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-kombu.
Preparing to unpack .../32-python3-kombu_5.0.2-3~cloud0_all.deb ...
Unpacking python3-kombu (5.0.2-3~cloud0) ...
Selecting previously unselected package python3-ldap:amd64.
Preparing to unpack .../33-python3-ldap_3.2.0-4ubuntu2_amd64.deb ...
Unpacking python3-ldap:amd64 (3.2.0-4ubuntu2) ...
Selecting previously unselected package python3-sqlparse.
Preparing to unpack .../34-python3-sqlparse_0.2.4-3_all.deb ...
Unpacking python3-sqlparse (0.2.4-3) ...
Selecting previously unselected package python3-tempita.
Preparing to unpack .../35-python3-tempita_0.5.2-6_all.deb ...
Unpacking python3-tempita (0.5.2-6) ...
Selecting previously unselected package python3-migrate.
Preparing to unpack .../36-python3-migrate_0.13.0-0ubuntu1_all.deb ...
Unpacking python3-migrate (0.13.0-0ubuntu1) ...
Selecting previously unselected package python3-oslo.concurrency.
Preparing to unpack .../37-python3-oslo.concurrency_4.4.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.concurrency (4.4.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-testscenarios.
Preparing to unpack .../38-python3-testscenarios_0.5.0-3build1_all.deb ...
Unpacking python3-testscenarios (0.5.0-3build1) ...
Selecting previously unselected package python3-oslo.db.
Preparing to unpack .../39-python3-oslo.db_8.5.0+really.8.5.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.db (8.5.0+really.8.5.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-statsd.
Preparing to unpack .../40-python3-statsd_3.3.0-2build1_all.deb ...
Unpacking python3-statsd (3.3.0-2build1) ...
Selecting previously unselected package python3-oslo.middleware.
Preparing to unpack .../41-python3-oslo.middleware_4.2.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.middleware (4.2.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-paste.
Preparing to unpack .../42-python3-paste_3.5.0+dfsg1-1~cloud0_all.deb ...
Unpacking python3-paste (3.5.0+dfsg1-1~cloud0) ...
Selecting previously unselected package python3-pastedeploy.
Preparing to unpack .../43-python3-pastedeploy_2.1.0-1_all.deb ...
Unpacking python3-pastedeploy (2.1.0-1) ...
Selecting previously unselected package python3-repoze.lru.
Preparing to unpack .../44-python3-repoze.lru_0.7-2_all.deb ...
Unpacking python3-repoze.lru (0.7-2) ...
Selecting previously unselected package python3-routes.
Preparing to unpack .../45-python3-routes_2.4.1-2_all.deb ...
Unpacking python3-routes (2.4.1-2) ...
Selecting previously unselected package python3-oslo.service.
Preparing to unpack .../46-python3-oslo.service_2.5.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.service (2.5.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-tenacity.
Preparing to unpack .../47-python3-tenacity_6.2.0-4~cloud0_all.deb ...
Unpacking python3-tenacity (6.2.0-4~cloud0) ...
Selecting previously unselected package python3-oslo.messaging.
Preparing to unpack .../48-python3-oslo.messaging_12.7.1-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.messaging (12.7.1-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-oslo.policy.
Preparing to unpack .../49-python3-oslo.policy_3.7.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.policy (3.7.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-oslo.upgradecheck.
Preparing to unpack .../50-python3-oslo.upgradecheck_1.3.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-oslo.upgradecheck (1.3.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-osprofiler.
Preparing to unpack .../51-python3-osprofiler_3.4.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-osprofiler (3.4.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-pastescript.
Preparing to unpack .../52-python3-pastescript_2.0.2-4_all.deb ...
Unpacking python3-pastescript (2.0.2-4) ...
Selecting previously unselected package python3-pymysql.
Preparing to unpack .../53-python3-pymysql_0.9.3-2ubuntu3_all.deb ...
Unpacking python3-pymysql (0.9.3-2ubuntu3) ...
Selecting previously unselected package xmlsec1.
Preparing to unpack .../54-xmlsec1_1.2.28-2_amd64.deb ...
Unpacking xmlsec1 (1.2.28-2) ...
Selecting previously unselected package python3-pysaml2.
Preparing to unpack .../55-python3-pysaml2_6.1.0-0ubuntu1.21.04.1~cloud0_all.deb ...
Unpacking python3-pysaml2 (6.1.0-0ubuntu1.21.04.1~cloud0) ...
Selecting previously unselected package python3-scrypt.
Preparing to unpack .../56-python3-scrypt_0.8.0-0.3ubuntu1_amd64.deb ...
Unpacking python3-scrypt (0.8.0-0.3ubuntu1) ...
Selecting previously unselected package python3-sqlalchemy-ext:amd64.
Preparing to unpack .../57-python3-sqlalchemy-ext_1.3.22+ds1-1~cloud0_amd64.deb ...
Unpacking python3-sqlalchemy-ext:amd64 (1.3.22+ds1-1~cloud0) ...
Selecting previously unselected package keystone-common.
Preparing to unpack .../58-keystone-common_2%3a19.0.0-0ubuntu1~cloud0_all.deb ...
Unpacking keystone-common (2:19.0.0-0ubuntu1~cloud0) ...
Selecting previously unselected package python3-bcrypt.
Preparing to unpack .../59-python3-bcrypt_3.1.7-2ubuntu1_amd64.deb ...
Unpacking python3-bcrypt (3.1.7-2ubuntu1) ...
Selecting previously unselected package python3-passlib.
Preparing to unpack .../60-python3-passlib_1.7.2-1_all.deb ...
Unpacking python3-passlib (1.7.2-1) ...
Selecting previously unselected package python3-keystone.
Preparing to unpack .../61-python3-keystone_2%3a19.0.0-0ubuntu1~cloud0_all.deb ...
Unpacking python3-keystone (2:19.0.0-0ubuntu1~cloud0) ...
Selecting previously unselected package keystone.
Preparing to unpack .../62-keystone_2%3a19.0.0-0ubuntu1~cloud0_all.deb ...
Unpacking keystone (2:19.0.0-0ubuntu1~cloud0) ...
Setting up python3-oslo.policy (3.7.0-0ubuntu1~cloud0) ...
Setting up python3-ldap:amd64 (3.2.0-4ubuntu2) ...
Setting up python3-repoze.lru (0.7-2) ...
Setting up python3-passlib (1.7.2-1) ...
Setting up python3-cachetools (4.0.0-1) ...
Setting up python3-defusedxml (0.6.0-2) ...
Setting up python3-statsd (3.3.0-2build1) ...
Setting up python3-tenacity (6.2.0-4~cloud0) ...
Setting up python3-bcrypt (3.1.7-2ubuntu1) ...
Setting up python3-extras (1.0.0-4build1) ...
Setting up python3-scrypt (0.8.0-0.3ubuntu1) ...
Setting up python3-itsdangerous (1.1.0-1) ...
Setting up python3-futurist (2.1.0-0ubuntu1) ...
Setting up libapache2-mod-wsgi-py3 (4.6.8-1ubuntu3) ...
Setting up python3-sqlalchemy (1.3.22+ds1-1~cloud0) ...
Setting up python3-vine (1.3.0+dfsg-1) ...
Setting up python3-oslo.upgradecheck (1.3.0-0ubuntu1~cloud0) ...
Setting up python3-sqlalchemy-ext:amd64 (1.3.22+ds1-1~cloud0) ...
Setting up python3-tempita (0.5.2-6) ...
Setting up python3-sqlparse (0.2.4-3) ...
Setting up python-pastedeploy-tpl (2.1.0-1) ...
Setting up python3-aniso8601 (8.0.0-1) ...
Setting up python3-paste (3.5.0+dfsg1-1~cloud0) ...
Setting up xmlsec1 (1.2.28-2) ...
Setting up keystone-common (2:19.0.0-0ubuntu1~cloud0) ...
Setting up python3-greenlet (0.4.17-1build1~cloud0) ...
Setting up python3-pymysql (0.9.3-2ubuntu3) ...
Setting up python3-fasteners (0.14.1-2) ...
Setting up pycadf-common (2.10.0-2) ...
Setting up python3-alembic (1.4.3-1ubuntu1~cloud0) ...
Setting up python3-dnspython (1.16.0-1build1) ...
Setting up python3-amqp (5.0.3-3~cloud0) ...
Setting up python3-anyjson (0.3.3-2) ...
Setting up python3-oslo.cache (2.7.0-0ubuntu1~cloud0) ...
Setting up libjs-jquery (3.3.1~dfsg-3) ...
Setting up python3-pycadf (2.10.0-2) ...
Setting up python3-mimeparse (1.6.0-3build1) ...
Setting up python3-migrate (0.13.0-0ubuntu1) ...
Setting up libjs-underscore (1.9.1~dfsg-1ubuntu0.20.04.1) ...
Setting up python3-webob (1:1.8.6-1.1~cloud0) ...
Setting up python3-keystonemiddleware (9.2.0-0ubuntu1~cloud0) ...
Setting up python3-pastedeploy (2.1.0-1) ...
Setting up python3-pysaml2 (6.1.0-0ubuntu1.21.04.1~cloud0) ...
Setting up python3-kombu (5.0.2-3~cloud0) ...
Setting up python3-eventlet (0.30.0-0ubuntu1.1~cloud0) ...
Setting up python3-werkzeug (0.16.1+dfsg1-2) ...
Setting up python3-oslo.middleware (4.2.0-0ubuntu1~cloud0) ...
Setting up libjs-sphinxdoc (3.5.4-1~cloud0) ...
Setting up alembic (1.4.3-1ubuntu1~cloud0) ...
Setting up python3-pastescript (2.0.2-4) ...
Setting up python3-flask (1.1.1-2) ...
Setting up python3-routes (2.4.1-2) ...
Setting up python3-flask-restful (0.3.8-1) ...
Setting up python3-fixtures (3.0.0-3build1) ...
Setting up python3-oslo.concurrency (4.4.0-0ubuntu1~cloud0) ...
Setting up python3-testtools (2.4.0-0ubuntu1) ...
Setting up python3-oslo.service (2.5.0-0ubuntu1~cloud0) ...
Setting up python3-osprofiler (3.4.0-0ubuntu1~cloud0) ...
Setting up python3-oslo.messaging (12.7.1-0ubuntu1~cloud0) ...
Setting up python3-testscenarios (0.5.0-3build1) ...
Setting up python3-oslo.db (8.5.0+really.8.5.0-0ubuntu1~cloud0) ...
Setting up python3-keystone (2:19.0.0-0ubuntu1~cloud0) ...
Setting up keystone (2:19.0.0-0ubuntu1~cloud0) ...
Processing triggers for man-db (2.9.1-1) ...
Setting up database for keystone.
Waiting for database server to come up.
mysql cmd: CREATE DATABASE keystone.
mysql cmd: GRANT ALL ON keystone.* TO 'keystone'@'%' IDENTIFIED BY 'keystoneDBPass';.
mysql cmd: GRANT ALL ON keystone.* TO 'keystone'@'localhost' IDENTIFIED BY 'keystoneDBPass';.
Sanity check: local auth should work.
Sanity check: remote auth should work.
Editing /etc/keystone/keystone.conf.
Setting database connection: mysql+pymysql://keystone:keystoneDBPass@controller/keystone.
cp: cannot stat '/etc/keystone/keystone.conf': No such file or directory
